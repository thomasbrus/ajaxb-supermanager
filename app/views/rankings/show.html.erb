<h2>Stand <%= l(@date, format: "%A %d %B") %></h2>

<% if is_admin? %>
  <p><%= link_to 'Nieuwe stand uploaden', edit_ranking_path %></p>
<% end %>

<% if @contestant_rankings.any? %>
  <div class="rankings">
    <table class="contestant_ranking">
      <thead>
        <th>#</th>
        <th>Deelnemer</th>
        <th>Score</th>
      </thead>

      <tbody>
        <% @contestant_rankings.each_with_index do |ranking, index| %>
          <tr class="<%= "highlight" if index.zero? %>">
            <td><%= index + 1 %></td>
            <td><%= ranking.contestant_name %></td>
            <td><%= ranking.total_score %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <table class="team_ranking">
      <thead>
        <th>#</th>
        <th>Ploeg</th>
        <th>Score</th>
      </thead>

      <tbody>
        <% @team_rankings.each_with_index do |ranking, index| %>
          <tr class="<%= "highlight" if index.zero? %>">
            <td><%= index + 1 %></td>
            <td><%= ranking.team_name %></td>
            <td><%= ranking.score %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <table class="player_ranking">
      <thead>
        <th>#</th>
        <th>Speler</th>
        <th>Club</th>
        <th>Positie</th>
        <th>Waarde</th>
        <th>Score</th>
      </thead>

      <tbody>
        <% @player_rankings.each_with_index do |ranking, index| %>
          <tr class="<%= "highlight" if index.zero? %>">
            <td><%= index + 1 %></td>
            <td><%= ranking.player_name %></td>
            <td><%= ranking.player_club %></td>
            <td><%= ranking.player_position %></td>
            <td><%= ranking.player_value %></td>
            <td><%= ranking.score %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

<% else %>
  <p>Er is op dit moment nog geen stand beschikbaar.</p>
<% end %>
